Overall:

- Test method
  * Preparation
    + Disable mcelog cron job
  * Add cases/soft-inj/recoverable/cases.sh into configuration file, and invoke
    a test driver on it.
- Common
  * Test script of test cases in this file can be found in
    cases/soft-inj/recoverable/cases.sh


1. kill

- Objective:
  * Test MCE recovery by killing user process logic
- Code path tested:
  * do_machine_check() after mce_sync_monarch/subject(), except two panic
    branch ("Machine check", "Uncorrected")
  * mce_get_rip() EIPV branch
- Reference:
  * Inject data file: cases/soft-inj/recoverable/data/kill
  * Reference MCE records: cases/soft-inj/recoverable/refer/kill
- Expected result:
  * No warning or bug during kernel processing.
  * MCE records collected via /dev/mcelog are same as reference ones.
  * No kernel panic
  * Injection process is killed with SIGBUS


2. kill + RIPV

- Objective:
  * Test MCE recovery by killing user process logic, with RIPV set
- Code path tested:
  * same as kill
- Reference:
  * Inject data file: cases/soft-inj/recoverable/data/kill_ripv
  * Reference MCE records: cases/soft-inj/recoverable/refer/kill_ripv
- Expected result:
  * No warning or bug during kernel processing.
  * MCE records collected via /dev/mcelog are same as reference ones.
  * No kernel panic
  * Injection process is killed with SIGBUS


3. corrected_kill

- Objective:
  * Make sure there is no race condition between machine_check_poll() and
    do_machine_check()
- Code path tested:
  * corrected + kill
- Reference:
  * Inject data file: cases/soft-inj/recoverable/corrected_kill
  * Reference MCE records: cases/soft-inj/recoverable/refer/corrected_kill
- Expected result:
  * No warning or bug during kernel processing.
  * MCE records collected via kernel /dev/mcelog are same as reference ones.
  * No kernel panic
  * Injection process of kill is killed by SIGBUS


4. kill_kill

- Objective:
  * Make sure there is no race condition between multiple do_machine_check()
    when do kill
- Code path tested:
  * Same as kill
- Reference:
  * Inject data file: cases/soft-inj/recoverable/kill_kill
  * Reference MCE records: cases/soft-inj/recoverable/refer/kill_kill
- Expected result:
  * No warning or bug during kernel processing.
  * MCE records collected via /dev/mcelog are same as reference ones.
  * No kernel panic
  * Injection process of kill is killed by SIGBUS
